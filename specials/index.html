<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="specials.css">

  <title>danforks</title>

  <link rel="apple-touch-icon" sizes="180x180" href="/danforks/apple-touch-icon.png">
  <!-- <link rel="icon" type="image/png" sizes="32x32" href="/danforks/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/danforks/favicon-16x16.png"> -->
  <link rel="manifest" href="/danforks/site.webmanifest">
  <link rel="mask-icon" href="/danforks/safari-pinned-tab.svg" color="#5bbad5">
  <!-- <link rel="shortcut icon" href="/danforks/favicon.ico"> -->
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="msapplication-config" content="/danforks/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

</head>
<body>
  <div class="container">
    <h1>danforks</h1>
    <br>
    <button id="button1" class="previous round">&#8249;</button>
    <h5 id="today"></h5>
    <button id="button2" class="next round">&#8250;</button>
    <hr>
    <!-- <ul id="location"></ul> -->
    <!-- <ul id="special"></ul> -->
    <ul id="locationdiv"></ul>

    <!-- Generates the weekdays by arrow button click -->
    <script type="text/javascript" src="specials.js"></script>

    <!-- Displays the specials by location for the selected weekday-->
    <script>
    $.getJSON("../menu_scrape/specials_data.json", function(json) {
      //console.log(json); // this will show the info it in firebug console
      //var data = JSON.parse(json);
      var locations = Object.keys(json);
      console.log(locations);
      console.log("----------------------------------------");
      var d = getWeekDays();
      for(var i = 0; i < locations.length; i++){
        var listItem = document.createElement('h6');
        listItem.innerHTML = locations[i] + '<br>';
        locationdiv.appendChild(listItem);
        var x = locations[i];

        //checks if the index is referecing the DUC, BD, or the Village
        //those 3 have different json structure
        if(i != 2 && i != 9 && i != 10){
          var data = json[x][""].menus;
          var date = Object.keys(data);
          //console.log(data);
          for(var q = 0; q < date.length; q++){
            var split_date = date[q].split(",")[0]; //@ 0 will give the weekDAY
            if(d == split_date){
              var day_data = data[date[q]];
              var day_data_keys = Object.keys(day_data.menu);
               // console.log(day_data.menu)
               // console.log("------");
              for(var v = 0; v < day_data_keys.length; v++){
                var vv = day_data_keys[v];
              //  console.log(day_data.menu[vv], Object.keys(day_data.menu[vv]).length);
                var special_types = day_data.menu[vv];
                console.log(special_types);
                var special_types_keys = Object.keys(special_types);
                console.log(special_types_keys);
                for(var h = 0; h < special_types_keys.length; h++){
                  var hh = special_types_keys[h];
                  var types_data = special_types[hh];
                  //**Now have access to menu data via console--> now just append to webpage
                }
              }
              console.log("----------------------------------------");

            }
          }

        }
        else{
          var stations = Object.keys(json[x]);// array of stations
          //console.log(stations); //console.log(stations.length);
          for(var s = 0; s < stations.length; s++){
            var data = json[x][stations[s]].menus;
            //console.log(data);
          }

          // console.log(stations[i].length);
          // for(var i = 0; )
          // console.log(stations[0]);//console.log(stations.length);
          // var data = json[x][stations[i]];
          // console.log(data);
        }
      }
    });


    </script>

  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
